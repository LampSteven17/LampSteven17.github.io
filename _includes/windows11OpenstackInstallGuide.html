<!-- Win11 Openstack Guide -->
<section id="win11-openstack-guide" class="container content-section text-left">
    <head>
        <h1>How to Create Windows 11 Virtual Machines in Openstack with Virtio Drivers & Cloudinit</h1>
        <img src="/img/openStackGuides.png"/>
        <p>If you were anything like me at the time of writing this article, then you would realize that their is not a single person on this planet that fully understands how Openstack works. Ditto to Windows 11. Here is how to configure a virtual machine in VirtualBox using Windows 11, and upload the image with proper configurations to work with Openstack.</p>

        <p>I also found these other articles extremely helpful for further reference:
            <ul style="list-style-type: none">
                <li><a href="https://ilearnedhowto.wordpress.com/2022/12/09/how-to-create-windows-10-or-windows-11-virtual-machines-in-openstack-using-kvm/" target="_blank" >https://ilearnedhowto.wordpress.com/2022/12/09/how-to-create-windows-10-or-windows-11-virtual-machines-in-openstack-using-kvm/</a></li>
                <li><a href="https://pve.proxmox.com/wiki/Windows_VirtIO_Drivers" target="_blank" >https://pve.proxmox.com/wiki/Windows_VirtIO_Drivers</a></li>
                <li><a href="https://superuser.openinfra.dev/articles/how-to-deploy-windows-on-openstack/" target="_blank" >https://superuser.openinfra.dev/articles/how-to-deploy-windows-on-openstack/</a></li>
                <li><a href="https://kevinlocke.name/bits/2021/12/10/windows-11-guest-virtio-libvirt/" target="_blank" >https://kevinlocke.name/bits/2021/12/10/windows-11-guest-virtio-libvirt/</a></li>
                <li><a href="https://www.reddit.com/r/unRAID/comments/trns2i/windows_11_virtio_drivers/" target="_blank" >https://www.reddit.com/r/unRAID/comments/trns2i/windows_11_virtio_drivers/</a></li>
            </ul>
        </p>
    </head>



    <div class="row">
        <h3>Prerequisites: Download a Win11 Iso and Install Virtualbox to Your Machine</h3>
            <p>The first thing you need to do is get VirtualBox downloaded and installed onto your machine. For the purposes of this tutorial I will be using a Windows 11 machine with WSL2(Ubuntu 22.04) for the command line interface.</p>

        <h5>VirtualBox:</h5>
            <code><a href="https://www.virtualbox.org/" target="_blank" >https://www.virtualbox.org/</a></code>
        <p>&nbsp</p>

        <h5>Windows 11:</h5>
            <code><a href="https://www.microsoft.com/en-us/windows" target="_blank" >https://www.microsoft.com/en-us/windows</a></code>
        <p>&nbsp</p>



        <h3>Configure Your Virtual Machine BEFORE INITAL BOOT</h3>
            <p>Open VirtualBox and click new.</p>
            <img src="/img/startVBOX.png"/>
            <p>&nbsp</p>

            <p>Enable the advanced options/expert mode near the bottom of the menu.</p>
            <img src="/img/expertMode.png"/>
            <p>&nbsp</p>

            <p>Complete the following for Name and Operating System:</p>
            <ul style = "list-style-type: none">
                <li>Name your VM</li>
                <li>Choose your ISO image</li>
                <li>Set your edition of Windows 11</li>
            </ul>
            <img src="/img/nameOS.png"/>
            <p>&nbsp</p>


            <p>Complete the following for Unattended Install:</p>
            <ul style = "list-style-type: none">
                <li>Set your username</li>
                <li>Set your password and confirm the password</li>
                <li>Set your hostname</li>
            </ul>
            <img src="/img/unIn.png"/>
            <p>&nbsp</p>

            <p>I chose to leave all hardware configuration at its deafult: 4096MB for ram and 2 CPUs. Make sure Enable EFI is checked.</p>
            <img src="/img/hardware.png"/>
            <p>&nbsp</p>

            <p>I also left the Hard Disk configuration at default, with 80GB Hard disk and set to format VDI for creation of the virtual hard disk.</p>
            <img src="/img/virtualHardDisk.png"/>
            <p>&nbsp</p>

            <p>Click finish to save the configuration of the Virtual Machine, but BEFORE THE MACHINE BOOTS POWER IT OFF. You need to configure some extra things in the settings before you are able to properly boot.</p>
            <img src="/img/poweredOff.png"/>
            <p>&nbsp</p>




            <p>In settings, click Storage and then the "Controller:SATA". We need to add the VIRTIO drivers as another hard drive to boot during windows installation. Click on the floppy disk with a green plus sign.</p>
            <img src="/img/floppyDisk.png"/>
            <p>&nbsp</p>

            <p>Attach a new optical disk containing the VIRTIO drivers by:</p>
            <ul style = "list-style-type: none">
                <li>Seelecting new optical disk from the aformentioned floppy disk icon.</li>
                <li>Click Add, and select the virtio Iso drivers from the directory in which they were downloaded</li>
                <li>Select the virtio iso that appears in the attached volumes.</li>
                <li>Click Choose</li>
            </ul>
            <img src="/img/addVirtio.png"/>
            <p>&nbsp</p>

            <p>You will know you have done this step correctly whena new optical drive appears attached in the storage devices section</p>
            <img src="/img/virtioIsAttached.png"/>
            <p>&nbsp</p>

            <p>Next, head over to the Network settings and complete the following:</p>
            <p>Set the first network adapter to virtio-net in the advanced settings</p>
            <img src="/img/setVirtio.png"/>
            <p>&nbsp</p>

            <p>Lastly, enable the first port for logging with cloudinit in the serial ports section</p>
            <img src="/img/enableSerialPort.png"/>
            <p>&nbsp</p>




    </div>
</section>